<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Corpus Coverage Report - Evidence Traceability</title>
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #0a0e27;
            color: #ffffff;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            border-radius: 10px;
        }
        .header h1 {
            margin: 0;
            font-size: 32px;
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 16px;
            color: #b8c6db;
        }
        .chart-container {
            background: #1a1f3a;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #2a5298;
            margin-bottom: 30px;
        }
        .coverage-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .coverage-card {
            background: linear-gradient(135deg, #1a1f3a 0%, #252b4a 100%);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #2a5298;
        }
        .coverage-card h3 {
            margin: 0 0 15px 0;
            color: #4da6ff;
            border-bottom: 2px solid #2a5298;
            padding-bottom: 10px;
        }
        .coverage-stat {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            padding: 8px;
            background: rgba(77, 166, 255, 0.1);
            border-radius: 5px;
        }
        .coverage-stat .label {
            color: #b8c6db;
        }
        .coverage-stat .value {
            color: #4da6ff;
            font-weight: bold;
        }
        .success { color: #4CAF50; }
        .warning { color: #FFC107; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Corpus Coverage Report</h1>
        <p>Evidence Traceability to Source Files</p>
        <p class="success">100% Corpus Backing Verified</p>
    </div>

    <div class="coverage-grid">
        <div class="coverage-card">
            <h3>shadowLens Notes</h3>
            <div class="coverage-stat">
                <span class="label">Evidence Items:</span>
                <span class="value">47</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Source Files:</span>
                <span class="value">43 HTML notes</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Corpus Location:</span>
                <span class="value">shadowLens/Notes/</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Traceability:</span>
                <span class="value success">100%</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Top Sources:</span>
                <span class="value">Dr. Silas Vane, Atlas Nyx, Bastion Kael</span>
            </div>
        </div>

        <div class="coverage-card">
            <h3>Blockchain CSVs</h3>
            <div class="coverage-stat">
                <span class="label">Evidence Items:</span>
                <span class="value">724 (approved)</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Total Transactions:</span>
                <span class="value">1,426</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Source Files:</span>
                <span class="value">3 CSV files</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Total Value:</span>
                <span class="value">$564.6M</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Traceability:</span>
                <span class="value success">100%</span>
            </div>
        </div>

        <div class="coverage-card">
            <h3>Telegram Posts</h3>
            <div class="coverage-stat">
                <span class="label">Posts Analyzed:</span>
                <span class="value">9,831</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Top 100 Fraud Scores:</span>
                <span class="value">100/100 (all)</span>
            </div>
            <div class="coverage-stat">
                <span class="label">URLs Extracted:</span>
                <span class="value">1,000 TLS fraud URLs</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Corpus Location:</span>
                <span class="value">telegram_posts/</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Traceability:</span>
                <span class="value success">100%</span>
            </div>
        </div>

        <div class="coverage-card">
            <h3>Entity Network</h3>
            <div class="coverage-stat">
                <span class="label">Total Entities:</span>
                <span class="value">8,226</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Priority Entities:</span>
                <span class="value">7 (all validated)</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Co-Mention Links:</span>
                <span class="value">7 relationships</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Corpus Validation:</span>
                <span class="value success">100%</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Jason Shurka Mentions:</span>
                <span class="value">6,462 (network)</span>
            </div>
        </div>

        <div class="coverage-card">
            <h3>URL Classifications</h3>
            <div class="coverage-stat">
                <span class="label">Total URLs Classified:</span>
                <span class="value">1,000</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Telegram URLs:</span>
                <span class="value">685 (68.5%)</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Website URLs:</span>
                <span class="value">212 (21.2%)</span>
            </div>
            <div class="coverage-stat">
                <span class="label">YouTube URLs:</span>
                <span class="value">103 (10.3%)</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Top Domain:</span>
                <span class="value">t.me (685)</span>
            </div>
        </div>

        <div class="coverage-card">
            <h3>Binder Chunks</h3>
            <div class="coverage-stat">
                <span class="label">Total Chunks:</span>
                <span class="value">680</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Clusters:</span>
                <span class="value">28</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Top Cluster:</span>
                <span class="value">EESystem (95 chunks)</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Source:</span>
                <span class="value">NotebookLM export</span>
            </div>
            <div class="coverage-stat">
                <span class="label">Status:</span>
                <span class="value warning">Supplementary</span>
            </div>
        </div>
    </div>

    <div class="chart-container">
        <div id="sourceChart"></div>
    </div>

    <div class="chart-container">
        <div id="flowChart"></div>
    </div>

    <script>
        // Data source breakdown
        var sourceData = [{
            values: [724, 47, 9831, 8226, 1000, 680],
            labels: [
                'Blockchain Transactions',
                'shadowLens Evidence',
                'Telegram Posts',
                'Entity Network Nodes',
                'URLs Classified',
                'Binder Chunks'
            ],
            type: 'pie',
            marker: {
                colors: ['#3498db', '#2ecc71', '#9b59b6', '#f39c12', '#e74c3c', '#1abc9c'],
                line: {
                    color: '#ffffff',
                    width: 2
                }
            },
            textinfo: 'label+percent',
            textfont: {
                size: 12,
                color: '#ffffff'
            },
            hovertemplate: '<b>%{label}</b><br>Count: %{value}<br>Percentage: %{percent}<extra></extra>'
        }];

        var sourceLayout = {
            title: {
                text: 'Data Source Distribution',
                font: { size: 24, color: '#ffffff' }
            },
            paper_bgcolor: '#1a1f3a',
            plot_bgcolor: '#252b4a',
            font: { color: '#ffffff' },
            showlegend: true,
            legend: {
                font: { color: '#ffffff' }
            },
            height: 500
        };

        Plotly.newPlot('sourceChart', sourceData, sourceLayout, {responsive: true});

        // Evidence flow (Sankey diagram)
        var flowData = [{
            type: "sankey",
            node: {
                pad: 15,
                thickness: 20,
                line: {
                    color: "#ffffff",
                    width: 0.5
                },
                label: [
                    "Corpus Files",
                    "shadowLens Notes",
                    "Blockchain CSVs",
                    "Telegram Posts",
                    "Entity Network",
                    "Approved Evidence",
                    "TIER 1",
                    "TIER 2",
                    "TIER 3"
                ],
                color: [
                    "#1abc9c", "#2ecc71", "#3498db", "#9b59b6", "#f39c12",
                    "#4da6ff", "#4CAF50", "#2196F3", "#FFC107"
                ]
            },
            link: {
                source: [0, 0, 0, 0, 1, 2, 3, 4, 5, 5, 5],
                target: [1, 2, 3, 4, 5, 5, 5, 5, 6, 7, 8],
                value: [43, 3, 9831, 8226, 47, 724, 0, 0, 44, 13, 760]
            }
        }];

        var flowLayout = {
            title: {
                text: 'Evidence Traceability Flow',
                font: { size: 24, color: '#ffffff' }
            },
            paper_bgcolor: '#1a1f3a',
            plot_bgcolor: '#252b4a',
            font: {
                size: 12,
                color: '#ffffff'
            },
            height: 600
        };

        Plotly.newPlot('flowChart', flowData, flowLayout, {responsive: true});
    </script>
</body>
</html>
